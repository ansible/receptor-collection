---
- name: Sure that receptor folder is empty
  ansible.builtin.file:
    state: absent
    path: "{{ receptor_git_path }}"

- name: Clone ansible-receptor repository
  ansible.builtin.git:
    repo: "{{ receptor_github_url }}"
    dest: "{{ receptor_git_path }}"
    version: "{{ receptor_version }}"
    force: true

- name: Build ansible-receptor
  community.general.make:
    chdir: "{{ receptor_git_path }}"
